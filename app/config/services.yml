services:
    # default configuration for services in *this* file
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    # makes classes in src/AppBundle available to be used as services
    AppBundle\:
        resource: '../../src/AppBundle/*'
        exclude: '../../src/AppBundle/{DataFixtures,Entity,Exception,Repository,Tests}'

    # define controllers as services to use parameter injection
    AppBundle\Controller\:
        resource: '../../src/AppBundle/Controller'
        tags: ['controller.service_arguments']

    Twig_Extensions_Extension_Intl:
        class: Twig_Extensions_Extension_Intl
        tags:
            - { name: twig.extension }

    AppBundle\Helper\PersonHelper:
        arguments:
            $parameters:
                ecgpb.members.photo_path: %ecgpb.members.photo_path%
                ecgpb.members.photo_path_optimized: %ecgpb.members.photo_path_optimized%

    AppBundle\PdfGenerator\MemberListGenerator:
        arguments:
            $parameters:
                ecgpb.contact.name: %ecgpb.contact.name%
                ecgpb.contact.street: %ecgpb.contact.street%
                ecgpb.contact.zip: %ecgpb.contact.zip%
                ecgpb.contact.city: %ecgpb.contact.city%
                ecgpb.contact.main_phone: %ecgpb.contact.main_phone%
                ecgpb.contact.office_phone: %ecgpb.contact.office_phone%
                ecgpb.contact.story_phone: %ecgpb.contact.story_phone%
                ecgpb.contact.kitchen_phone: %ecgpb.contact.kitchen_phone%
                ecgpb.contact.gfh_phone: %ecgpb.contact.gfh_phone%
                ecgpb.contact.library_phone: %ecgpb.contact.library_phone%
                ecgpb.contact.library_email: %ecgpb.contact.library_email%
                ecgpb.contact.bank.iban: %ecgpb.contact.bank.iban%
                ecgpb.contact.bank.bic: %ecgpb.contact.bank.bic%
                ecgpb.contact.memberlist.responsible: %ecgpb.contact.memberlist.responsible%
                ecgpb.contact.memberlist.email: %ecgpb.contact.memberlist.email%
                ecgpb.contact.technique.email: %ecgpb.contact.technique.email%

    AppBundle\Event\DoctrineEventSubscriber:
        calls:
            - method: setPersonHelper
        tags:
            - { name: doctrine.event_subscriber }
